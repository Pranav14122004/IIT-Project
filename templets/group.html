<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CampusJot</title>
  <link rel="stylesheet" th:href="@{/css/style.css}"> 
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <a th:href="@{/home}" class="logo">CampusJot</a>
      <nav>
        <ul class="menu">
          <li><a th:href="@{/home}">Folders</a></li>
          <li><a href="#" class="active">Groups</a></li> 
        </ul>
      </nav>
    </aside>

    <main class="main-content">
      <header class="top-bar">
        <div class="repo-header">
          <h2 class="repo-name">My Groups</h2>
        </div>
        <div class="user-box">
          <span class="username" th:text="${session.username}">user123</span>
          <a th:href="@{/logout}" class="logout-btn">Log out</a>
        </div>
      </header>
      
      <div class="top-buttons" style="align-self: flex-end; margin-top: -30px; margin-bottom: 20px;">
        <a th:href="@{/groups/create}" class="create-btn">Create Group</a>
      </div>

      <table>
        <thead>
          <tr>
            <th>Group Name</th>
            <th>Admin Mail</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="group : ${groups}">
            <td th:text="${group.gname.split('_')[0]}">Final Year BTech</td>
            <td th:text="${group.owner.email}">abc@mail</td>
            <td><a th:href="@{/group/opengroup/{gname}(gname=${group.gname})}" class="open-btn">Open</a></td>
          </tr>
        </tbody>
      </table>
    </main>
  </div>
</body>
</html>